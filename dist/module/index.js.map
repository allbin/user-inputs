{"version":3,"sources":["../src/module/index.tsx"],"names":[],"mappings":"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","file":"index.js","sourcesContent":["import * as React from 'react';\r\nimport oh from 'output-helpers';\r\nimport translations from './translations';\r\n\r\nimport formGenerator, { validateFormGeneratorInputs } from './formGenerator';\r\n\r\nimport PromptModal from './PromptModal';\r\nimport * as TextImport from './input_components/TextInput';\r\nimport * as BoolImport from './input_components/BoolInput';\r\nimport * as GridImport from './input_components/GridInput';\r\nimport * as SelectImport from './input_components/SelectInput';\r\nimport * as MultiSelectImport from './input_components/MultiSelectInput';\r\nimport * as TextareaImport from './input_components/TextareaInput';\r\nimport * as TriStateImport from './input_components/TriStateInput';\r\nimport * as NumericImport from './input_components/NumericInput';\r\nimport * as ButtonImport from './input_components/Button';\r\n\r\n\r\nexport let valid_types = [\"bool\", \"button\", \"confirm\", \"date\", \"grid\", \"numeric\", \"multi_select\", \"select\", \"text\", \"textarea\", \"tri_state\"];\r\n\r\n\r\n//Add translations of this repo to OH. Prefixed with \"user_input_\".\r\noh.addDictionary(translations);\r\n\r\n\r\n\r\n\r\n\r\nexport type Omit<T, K extends keyof T> = Pick<T, Exclude<keyof T, K>>;\r\n\r\nexport interface LooseObject {\r\n    [key: string]: any;\r\n}\r\nexport interface SelectOption {\r\n    value: string | number;\r\n    label: string;\r\n}\r\nexport interface TriStateInputOption {\r\n    value: string | number;\r\n    label: string;\r\n}\r\nexport interface MultiSelectOption {\r\n    value: string | number;\r\n    label: string;\r\n}\r\nexport interface GridSelectOption {\r\n    value: string | number;\r\n    label: string;\r\n    color?: string;\r\n}\r\n\r\nexport interface GeneratedForm {\r\n    component: typeof React.Component;\r\n    reset: () => void;\r\n    resetConfirmClick: () => void;\r\n    getValues: () => LooseObject;\r\n    setInputConfig: (updated_config: AnyInputConfigWithValue) => void;\r\n}\r\n\r\nexport interface HOCProps {\r\n    /** Opens a prompt using supplied config which has a single Confirm button. */\r\n    alert: (prompt_request: UserInputPromptConfig, confirmCB?: (values: LooseObject) => void) => void;\r\n    /** Closes any open prompt without triggering any Confirm or Cancel callbacks. */\r\n    cancel: () => void;\r\n    /** Opens a prompt using supplied config which has a Confirm and Cancel button. */\r\n    confirm: (prompt_request: UserInputPromptConfig, confirmCB?: (values: LooseObject) => void, cancelCB?: () => void) => void;\r\n    /** Returns current tag. If no tag has been set returns null. */\r\n    getTag: () => string | null;\r\n    /** Returns true if a prompt is currently showing to the user. Otherwise false. */\r\n    isOpen: () => boolean;\r\n    /** Modify the config a currently open prompt. */\r\n    setConfig: (input_config: AnyInputConfigWithValue) => void;\r\n    /** Set tag. */\r\n    setTag: (tag: string) => void;\r\n}\r\n\r\nexport type UpdateConfig = {\r\n    key: string;\r\n    value?: any;\r\n};\r\nexport type AnyInputConfig = ButtonImport.ButtonConfig | TextImport.TextInputConfig | BoolImport.BoolInputConfig | GridImport.GridInputConfig | SelectImport.SelectInputConfig | MultiSelectImport.MultiSelectInputConfig | NumericImport.NumericInputConfig | TextareaImport.TextareaInputConfig | TriStateImport.TriStateInputConfig;\r\nexport type AnyInputConfigWithValue = Partial<AnyInputConfig> & UpdateConfig & Pick<AnyInputConfig, \"type\">;\r\nexport type PromptInputConfigArray = Array<ButtonImport.ButtonConfig | TextImport.TextInputConfig | BoolImport.BoolInputConfig | GridImport.GridInputConfig | SelectImport.SelectInputConfig | MultiSelectImport.MultiSelectInputConfig | NumericImport.NumericInputConfig | TextareaImport.TextareaInputConfig | TriStateImport.TriStateInputConfig>;\r\nexport type FormInputConfigArray = Array<ButtonImport.ButtonConfig | TextImport.TextInputConfig | BoolImport.BoolInputConfig | GridImport.GridInputConfig | SelectImport.SelectInputConfig | MultiSelectImport.MultiSelectInputConfig | NumericImport.NumericInputConfig | TextareaImport.TextareaInputConfig | TriStateImport.TriStateInputConfig>;\r\n\r\n\r\nexport interface PromptState {\r\n    prompt_config: PromptConfig | null;\r\n    tag: string | null;\r\n    form: GeneratedForm | null;\r\n}\r\n\r\nexport interface UserInputPromptConfig {\r\n    title: string;\r\n    inputs: PromptInputConfigArray;\r\n    message?: string;\r\n    classes?: string;\r\n    confirmCB?: () => void;\r\n    cancelCB?: () => void;\r\n    confirm_button_label?: string;\r\n    cancel_button_label?: string;\r\n}\r\n\r\nexport interface UserInputProps {\r\n    userInputs: HOCProps;\r\n}\r\n\r\nexport interface PromptConfig extends UserInputPromptConfig {\r\n    show_cancel_btn: boolean;\r\n    show_confirm_btn: boolean;\r\n}\r\n\r\ninterface InputComponentExports {\r\n    Input: React.ComponentClass<any>;\r\n    convertInternalToExternalValue: (cfg: any, value: any) => any;\r\n    validateConfig: (cfg: any) => null | string;\r\n    validate: (cfg: any, value: any) => null | string;\r\n    convertExternalToInternalValue: (cfg: any, value: any) => any;\r\n}\r\n\r\nexport interface ComponentObject {\r\n    [key: string]: InputComponentExports;\r\n    bool: InputComponentExports;\r\n    button: InputComponentExports;\r\n    date: InputComponentExports;\r\n    grid: InputComponentExports;\r\n    numeric: InputComponentExports;\r\n    select: InputComponentExports;\r\n    text: InputComponentExports;\r\n    textarea: InputComponentExports;\r\n    multi_select: InputComponentExports;\r\n    confirm: InputComponentExports;\r\n    tri_state: InputComponentExports;\r\n}\r\n\r\n\r\n\r\n\r\nexport const input_imports: ComponentObject = {\r\n    text: TextImport,\r\n    bool: BoolImport,\r\n    grid: GridImport,\r\n    button: ButtonImport,\r\n    select: SelectImport,\r\n    multi_select: MultiSelectImport,\r\n    textarea: TextareaImport,\r\n    tri_state: TriStateImport,\r\n    confirm: ButtonImport,\r\n    numeric: NumericImport,\r\n    date: TextImport\r\n};\r\n\r\n\r\n\r\n\r\nexport function renderPrompt(form: GeneratedForm | null, prompt_config: PromptConfig | null, userCancelledCB: () => void) {\r\n    if (!form || !prompt_config) {\r\n        return null;\r\n    }\r\n\r\n    return (\r\n        <PromptModal\r\n            cancelCB={() => { userCancelledCB(); }}\r\n            config={prompt_config}\r\n            form={form}\r\n        />\r\n    );\r\n}\r\n\r\n\r\n\r\nexport function InputHOC<P extends UserInputProps>(WrappedComponent: React.ComponentType<P>): React.ComponentClass<Omit<P, keyof UserInputProps>> {\r\n    class Prompt extends React.Component<P, PromptState> {\r\n        exports: HOCProps = {\r\n            confirm: (user_prompt_request, confirmCB, cancelCB) => {\r\n                if (user_prompt_request.hasOwnProperty(\"inputs\") === false) {\r\n                    user_prompt_request.inputs = [];\r\n                }\r\n                if (!user_prompt_request.title) {\r\n                    throw new Error(\"prompt_props requires 'title' property.\");\r\n                }\r\n                let default_settings = {\r\n                    show_cancel_btn: true,\r\n                    show_confirm_btn: true\r\n                };\r\n                let prompt_request: PromptConfig = Object.assign(\r\n                    {},\r\n                    user_prompt_request,\r\n                    default_settings\r\n                );\r\n                this.initPrompt(prompt_request, confirmCB, cancelCB);\r\n            },\r\n            alert: (user_prompt_request, confirmCB) => {\r\n                if (user_prompt_request.hasOwnProperty(\"inputs\") === false) {\r\n                    user_prompt_request.inputs = [];\r\n                }\r\n                if (!user_prompt_request.title) {\r\n                    throw new Error(\"prompt_props requires 'title' property.\");\r\n                }\r\n                let default_settings = {\r\n                    show_cancel_btn: false,\r\n                    show_confirm_btn: true\r\n                };\r\n                let prompt_request: PromptConfig = Object.assign(\r\n                    {},\r\n                    user_prompt_request,\r\n                    default_settings\r\n                );\r\n                this.initPrompt(prompt_request, confirmCB);\r\n            },\r\n            cancel: () => {\r\n                this.resetPrompt();\r\n            },\r\n            isOpen: () => {\r\n                return this.state.prompt_config !== null;\r\n            },\r\n            setTag: (tag) => {\r\n                this.setState({\r\n                    tag: tag\r\n                });\r\n            },\r\n            getTag: () => {\r\n                return this.state.tag;\r\n            },\r\n            setConfig: (input_config: AnyInputConfigWithValue) => {\r\n                if (this.state.form) {\r\n                    this.state.form.setInputConfig(input_config);\r\n                } else {\r\n                    throw new Error(\"UserInput: Cannot setConfig without an open prompt.\");\r\n                }\r\n            }\r\n        };\r\n\r\n        confirmCB: any = null;\r\n        cancelCB: any = null;\r\n\r\n        constructor(props: any) {\r\n            super(props);\r\n\r\n            this.state = {\r\n                prompt_config: null,\r\n                form: null,\r\n                tag: null\r\n            };\r\n        }\r\n\r\n        initPrompt(prompt_config: PromptConfig, confirmCB?: (value: any) => void, cancelCB?: () => void) {\r\n            let inputs = [...prompt_config.inputs];\r\n            let invalid_inputs = inputs.some(input => input.hasOwnProperty(\"default_value\") === false);\r\n            if (invalid_inputs) {\r\n                throw new Error(\"UserInput: Inputs must be configured with a 'default_value'.\");\r\n            }\r\n            invalid_inputs = inputs.some(input => !input_imports[input.type]);\r\n            if (invalid_inputs) {\r\n                throw new Error(\"UserInput: Inputs must be configured with a valid 'type'. \" + valid_types.join(','));\r\n            }\r\n            this.confirmCB = confirmCB || null;\r\n            this.cancelCB = cancelCB || null;\r\n\r\n            if (prompt_config.show_confirm_btn) {\r\n                let confirm_config: ButtonImport.ButtonConfig = {\r\n                    label: prompt_config.confirm_button_label || oh.translate('user_input_confirm'),\r\n                    key: \"confirm\",\r\n                    type: \"confirm\",\r\n                    default_value: \"\",\r\n                    filled: true,\r\n                    big: true\r\n                };\r\n                inputs.push(confirm_config);\r\n            }\r\n\r\n            if (prompt_config.show_cancel_btn) {\r\n                let cancel_config: ButtonImport.ButtonConfig = {\r\n                    label: prompt_config.confirm_button_label || oh.translate('user_input_cancel'),\r\n                    key: \"cancel\",\r\n                    type: \"button\",\r\n                    default_value: \"\",\r\n                    onClick: () => this.userCancelledCB(),\r\n                    filled: true,\r\n                    big: true\r\n                };\r\n                inputs.push(cancel_config);\r\n            }\r\n\r\n            this.setState({\r\n                form: formGenerator(inputs, (values: LooseObject) => this.userConfirmedCB(values)),\r\n                prompt_config: prompt_config\r\n            });\r\n        }\r\n\r\n        resetPrompt() {\r\n            this.confirmCB = null;\r\n            this.cancelCB = null;\r\n            this.setState({\r\n                form: null,\r\n                prompt_config: null,\r\n                tag: null\r\n            });\r\n        }\r\n\r\n        userConfirmedCB(values: LooseObject) {\r\n            //User clicked the confirm button.\r\n            if (this.confirmCB) {\r\n                this.confirmCB(values);\r\n            }\r\n            this.resetPrompt();\r\n        }\r\n        userCancelledCB() {\r\n            //User clicked the cancel button.\r\n            if (this.cancelCB) {\r\n                //Exec the cancelCB if one was supplied.\r\n                this.cancelCB();\r\n            }\r\n            this.resetPrompt();\r\n        }\r\n\r\n        render() {\r\n            return (<div>\r\n                <WrappedComponent userInputs={this.exports} {...this.props} />\r\n                {\r\n                    renderPrompt(\r\n                        this.state.form,\r\n                        this.state.prompt_config,\r\n                        () => { this.userCancelledCB(); }\r\n                    )\r\n                }\r\n            </div>);\r\n        }\r\n    }\r\n\r\n    return Prompt;\r\n}\r\n\r\n\r\nexport namespace InputHOC {\r\n    export function generateForm(input_configs: FormInputConfigArray, confirmCB?: (value: any) => void): GeneratedForm {\r\n        validateFormGeneratorInputs(input_configs, confirmCB);\r\n        return formGenerator(input_configs, confirmCB);\r\n    }\r\n}\r\n\r\nexport default InputHOC;\r\n"]}